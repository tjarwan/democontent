<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.1//EN' 'http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd'><html xmlns="http://www.w3.org/1999/xhtml"><head><title/><script type="text/javascript" src="../js/compatibility.min.js"/><link rel="stylesheet" href="../css/base.min.css"/><link rel="stylesheet" href="../css/fancy.min.css"/><link rel="stylesheet" href="../css/pdf.css"/><meta name="viewport" content="width=640, height=824"/></head><body><div id="page_body"><div id="pf106" class="pf w2 h2" data-page-no="106"><div class="pc pc106 w2 h2"><img class="bi xb y34af w7d h108" alt="" src="bg106.png"/><div class="t m0 x38 h11 y132 ff2 fs8 fc2 sc0 ls0 ws0">G.2 The<span class="_ _9"> </span>Architecture<span class="_ _19"> </span><span class="ff1 fs3">243</span></div><div class="t m0 xec ha5 y34b0 ffc fs2a fc1 sc0 ls0 ws0">SRAM 1<span class="_ _fb"> </span>SRAM 2<span class="_ _fc"> </span>SRAM 3<span class="_ _fb"> </span>SRAM 4</div><div class="t m0 x7b ha5 y34b1 ffc fs2a fc1 sc0 ls0 ws0">Memory interface</div><div class="t m0 xd8 ha5 y34b2 ffc fs2a fc1 sc0 ls0 ws0">Scheduler</div><div class="t m0 x87 h109 y34b3 ffb fs2b fc1 sc0 ls0 ws0">Reconstruction</div><div class="t m0 x5d h109 y34b4 ffb fs2b fc1 sc0 ls0 ws0">I/O interface</div><div class="t m0 x8e h109 y34b5 ffb fs2b fc1 sc0 ls0 ws0">Bucketization</div><div class="t m2 xca h109 y34b6 ffb fs2b fc1 sc0 ls0 ws0">1st</div><div class="t m2 x63 h109 y34b7 ffb fs2b fc1 sc0 ls0 ws0">bucketization</div><div class="t m2 xca h109 y34b8 ffb fs2b fc1 sc0 ls0 ws0">2nd</div><div class="t m2 x63 h109 y34b9 ffb fs2b fc1 sc0 ls0 ws0">bucketization</div><div class="t m0 xc6 ha5 y34ba ffc fs2a fc1 sc0 ls0 ws0">Update</div><div class="t m0 x36 ha5 y34bb ffc fs2a fc1 sc0 ls0 ws0">Control registers</div><div class="t m0 xd6 ha5 y34bc ffc fs2a fc1 sc0 ls0 ws0">FFT 1       2</div><div class="t m0 x56 h10a y34bd ffc fs39 fc1 sc0 ls0 ws0">10</div><div class="t m0 x57 ha5 y34be ffc fs2a fc1 sc0 ls0 ws0">-point</div><div class="t m0 xd6 ha5 y34bf ffc fs2a fc1 sc0 ls0 ws0">FFT 2       2</div><div class="t m0 x56 h10a y34c0 ffc fs39 fc1 sc0 ls0 ws0">10</div><div class="t m0 x57 ha5 y34c1 ffc fs2a fc1 sc0 ls0 ws0">-point</div><div class="t m0 xd6 ha5 y34c2 ffc fs2a fc1 sc0 ls0 ws0">FFT 3       2</div><div class="t m0 x56 h10a y34c3 ffc fs39 fc1 sc0 ls0 ws0">10</div><div class="t m0 x57 ha5 y34c4 ffc fs2a fc1 sc0 ls0 ws0">-point</div><div class="t m0 xd6 ha5 y34c5 ffc fs2a fc1 sc0 ls0 ws0">FFT 4       3</div><div class="t m0 x56 h10a y34c6 ffc fs39 fc1 sc0 ls0 ws0">6</div><div class="t m0 xb3 ha5 y34c5 ffc fs2a fc1 sc0 ls0 ws0">-point</div><div class="t m0 xd6 ha5 y34c7 ffc fs2a fc1 sc0 ls0 ws0">FFT 5       3</div><div class="t m0 x56 h10a y34c8 ffc fs39 fc1 sc0 ls0 ws0">6</div><div class="t m0 xb3 ha5 y34c9 ffc fs2a fc1 sc0 ls0 ws0">-point</div><div class="t m0 xd6 ha5 y34ca ffc fs2a fc1 sc0 ls0 ws0">FFT 6       3</div><div class="t m0 x56 h10a y34cb ffc fs39 fc1 sc0 ls0 ws0">6</div><div class="t m0 xb3 ha5 y34ca ffc fs2a fc1 sc0 ls0 ws0">-point</div><div class="t m0 x8c ha5 y34cc ffc fs2a fc1 sc0 ls0 ws0">Scan chain driver</div><div class="t m0 x111 ha5 y34cd ffc fs2a fc1 sc0 ls0 ws0">Estimation</div><div class="t m0 xe7 ha5 y34ce ffc fs2a fc1 sc0 ls0 ws0">Collision</div><div class="t m0 xed ha5 y34cf ffc fs2a fc1 sc0 ls0 ws0">detection</div><div class="t m0 x109 ha5 y34d0 ffc fs2a fc1 sc0 ls0 ws0">SRAM 5<span class="_ _fb"> </span>SRAM 6</div><div class="t m0 x8c h17 y34d1 ff1 fsb fc0 sc0 ls0 ws0">Figure<span class="_ _5"> </span>G.1<span class="_ _16"> </span><span class="ff2 fsc fc1">A<span class="_ _8"> </span>block<span class="_ _c"> </span>diagram<span class="_ _8"> </span>of<span class="_ _8"> </span>the<span class="_ _8"> </span>2</span></div><div class="t m0 xd0 h42 y34d2 ff2 fs1c fc1 sc0 ls0 ws0">10</div><div class="t m0 xad h17 y34d1 ff8 fsc fc1 sc0 ls0 ws0">×<span class="_ _9"> </span><span class="ff2">3</span></div><div class="t m0 x67 h42 y34d2 ff2 fs1c fc1 sc0 ls0 ws0">6</div><div class="t m0 xae h17 y34d1 ff2 fsc fc1 sc0 ls0 ws0">-point<span class="_ _8"> </span>Sparse<span class="_ _8"> </span>Fourier<span class="_ _8"> </span>Transform.<span class="_ _8"> </span>The<span class="_ _8"> </span>I/O<span class="_ _8"> </span>interface,</div><div class="t m0 x1 h17 y34d3 ff2 fsc fc1 sc0 ls0 ws0">bucketization,<span class="_ _7"> </span>and<span class="_ _6"> </span>reconstruction<span class="_ _7"> </span>blocks<span class="_ _6"> </span>operate<span class="_ _7"> </span>in<span class="_ _6"> </span>parallel<span class="_ _7"> </span>on<span class="_ _6"> </span>three<span class="_ _7"> </span>different<span class="_ _6"> </span>Sparse</div><div class="t m0 x1 h17 y34d4 ff2 fsc fc1 sc0 ls0 ws0">Fourier<span class="_ _9"> </span>Transform<span class="_ _9"> </span>frames.<span class="_ _9"> </span>The<span class="_ _4"> </span>ﬁgure<span class="_ _9"> </span>also<span class="_ _4"> </span>shows<span class="_ _9"> </span>the<span class="_ _4"> </span>input<span class="_ _9"> </span>samples<span class="_ _4"> </span>to<span class="_ _9"> </span>the<span class="_ _9"> </span>six<span class="_ _4"> </span>FFTs.</div><div class="t m0 x1 h5 y1d79 ff2 fs2 fc1 sc0 ls0 ws0">BFP<span class="_ _4"> </span>is<span class="_ _6"> </span>implemented<span class="_ _6"> </span>using<span class="_ _4"> </span>a<span class="_ _6"> </span>single<span class="_ _6"> </span>exponent<span class="_ _4"> </span>shared<span class="_ _6"> </span>between<span class="_ _6"> </span>FFTs,<span class="_ _4"> </span>and<span class="_ _6"> </span>scaling<span class="_ _6"> </span>is</div><div class="t m0 x1 h5 y1d7a ff2 fs2 fc1 sc0 ls0 ws0">done<span class="_ _5"> </span>by<span class="_ _9"> </span>shifting<span class="_ _9"> </span>in<span class="_ _9"> </span>case<span class="_ _5"> </span>of<span class="_ _9"> </span>overﬂow<span class="_ _2"/>.<span class="_ _5"> </span>Round-half-away-from-zero<span class="_ _9"> </span>is<span class="_ _5"> </span>implemented<span class="_ _9"> </span>by</div><div class="t m0 x1 h5 y1d7b ff2 fs2 fc1 sc0 ls0 ws0">initializing<span class="_ _4"> </span>the<span class="_ _4"> </span>accumulator<span class="_ _4"> </span>registers<span class="_ _6"> </span>with<span class="_ _4"> </span>0.5<span class="_ _4"> </span>LSB<span class="_ _4"> </span>and<span class="_ _6"> </span>truncating<span class="_ _4"> </span>the<span class="_ _4"> </span>results.<span class="_ _4"> </span>The</div><div class="t m0 x1 h5 y1d7c ff2 fs2 fc1 sc0 ls0 ws0">3</div><div class="t m0 x51 h20 y34d5 ff2 fs13 fc1 sc0 ls0 ws0">6</div><div class="t m0 x4 h5 y1d7c ff2 fs2 fc1 sc0 ls0 ws0">-point<span class="_ _4"> </span>FFTs<span class="_ _4"> </span>are<span class="_ _4"> </span>similar,<span class="_ _4"> </span>but<span class="_ _4"> </span>use<span class="_ _4"> </span>radix-3<span class="_ _4"> </span>butterﬂies.</div><div class="t m0 x12 h5 y1d7d ff2 fs2 fc1 sc0 ls0 ws0">The<span class="_ _7"> </span>micro-architecture<span class="_ _8"> </span>of<span class="_ _7"> </span>estimation<span class="_ _7"> </span>and<span class="_ _8"> </span>collision<span class="_ _7"> </span>detection<span class="_ _8"> </span>is<span class="_ _7"> </span>shown<span class="_ _7"> </span>in<span class="_ _8"> </span>Fig-</div><div class="t m0 x1 h5 y1d7e ff2 fs2 fc1 sc0 ls0 ws0">ure</div><div class="t m0 x94 h5 y1359 ff2 fs2 fc0 sc0 ls0 ws0">G.3<span class="fc1">.<span class="_ _4"> </span>Phase<span class="_ _9"> </span>shift<span class="_ _4"> </span>and<span class="_ _4"> </span>phase<span class="_ _4"> </span>detector<span class="_ _9"> </span>units<span class="_ _4"> </span>use<span class="_ _4"> </span>the<span class="_ _4"> </span>CORDIC<span class="_ _4"> </span>algorithm.<span class="_ _9"> </span>The<span class="_ _4"> </span>esti-</span></div><div class="t m0 x1 h5 y135a ff2 fs2 fc1 sc0 ls0 ws0">mation<span class="_ _9"> </span>block<span class="_ _4"> </span>operates<span class="_ _4"> </span>in<span class="_ _4"> </span>two<span class="_ _9"> </span>steps.<span class="_ _4"> </span>First,<span class="_ _4"> </span>time<span class="_ _4"> </span>shifts<span class="_ _9"> </span>of<span class="_ _4"> </span>1<span class="_ _4"> </span>and<span class="_ _9"> </span>32<span class="_ _4"> </span>samples<span class="_ _4"> </span>are<span class="_ _4"> </span>used</div><div class="t m0 x1 h5 y135b ff2 fs2 fc1 sc0 ls0 ws0">to<span class="_ _7"> </span>compute<span class="_ _6"> </span>the<span class="_ _7"> </span>MSBs<span class="_ _7"> </span>and<span class="_ _7"> </span>LSBs<span class="_ _7"> </span>of<span class="_ _7"> </span>the<span class="_ _7"> </span>phase<span class="_ _7"> </span>change,<span class="_ _7"> </span>respectively<span class="_ _2"/>.<span class="_ _6"> </span>A<span class="_ _7"> </span>3-bit<span class="_ _7"> </span>overlap</div><div class="t m0 x1 h5 y20 ff2 fs2 fc1 sc0 ls0 ws0">is<span class="_ _7"> </span>used<span class="_ _7"> </span>to<span class="_ _7"> </span>ﬁx<span class="_ _7"> </span>errors<span class="_ _8"> </span>due<span class="_ _7"> </span>to<span class="_ _7"> </span>concatenation.<span class="_ _7"> </span>Since<span class="_ _7"> </span>the<span class="_ _7"> </span>5<span class="_ _8"> </span>MSBs<span class="_ _6"> </span>of<span class="_ _8"> </span>phase<span class="_ _6"> </span>change<span class="_ _8"> </span>are</div><div class="t m0 x1 h5 y924 ff2 fs2 fc1 sc0 ls0 ws0">taken<span class="_ _4"> </span>directly<span class="_ _6"> </span>from<span class="_ _4"> </span>the<span class="_ _6"> </span>output<span class="_ _4"> </span>of<span class="_ _6"> </span>phase<span class="_ _6"> </span>detectors,<span class="_ _4"> </span>active<span class="_ _6"> </span>frequencies<span class="_ _4"> </span>have<span class="_ _6"> </span>to<span class="_ _6"> </span>be<span class="_ _4"> </span><span class="ff8">≈</span></div><div class="t m0 x1 h5 y1436 ff2 fs2 fc1 sc0 ls0 ws0">30dB<span class="_ _9"> </span>above<span class="_ _9"> </span>the<span class="_ _5"> </span>quantization<span class="_ _9"> </span>noise<span class="_ _9"> </span>to<span class="_ _9"> </span>be<span class="_ _9"> </span>detected<span class="_ _9"> </span>correctly<span class="_ _2"/>.<span class="_ _5"> </span>Frequencies<span class="_ _9"> </span>below<span class="_ _9"> </span>this</div><div class="t m0 x1 h5 y1437 ff2 fs2 fc1 sc0 ls0 ws0">level<span class="_ _5"> </span>are<span class="_ _9"> </span>considered<span class="_ _5"> </span>negligible.<span class="_ _9"> </span>The<span class="_ _5"> </span>frequency<span class="_ _9"> </span>number<span class="_ _9"> </span>is<span class="_ _5"> </span>estimated<span class="_ _9"> </span>from<span class="_ _5"> </span>the<span class="_ _9"> </span>phase</div><div class="t m0 x1 h5 y1438 ff2 fs2 fc1 sc0 ls0 ws0">change.<span class="_ _6"> </span>This<span class="_ _7"> </span>frequency<span class="_ _7"> </span>number<span class="_ _7"> </span>may<span class="_ _7"> </span>have<span class="_ _7"> </span>errors<span class="_ _6"> </span>in<span class="_ _7"> </span>the<span class="_ _7"> </span>LSBs<span class="_ _7"> </span>due<span class="_ _7"> </span>to<span class="_ _7"> </span>quantization</div><div class="t m0 x1 h5 y40d ff2 fs2 fc1 sc0 ls0 ws0">noise.<span class="_ _4"> </span>The<span class="_ _4"> </span>second<span class="_ _4"> </span>step<span class="_ _4"> </span>corrects<span class="_ _4"> </span>any<span class="_ _4"> </span>such<span class="_ _4"> </span>errors<span class="_ _4"> </span>by<span class="_ _4"> </span>using<span class="_ _4"> </span>the<span class="_ _4"> </span>bucket<span class="_ _4"> </span>number<span class="_ _4"> </span>to<span class="_ _4"> </span>re-</div><div class="t m0 x1 h5 yf6b ff2 fs2 fc1 sc0 ls0 ws0">cover<span class="_ _6"> </span>the<span class="_ _7"> </span>LSBs<span class="_ _7"> </span>of<span class="_ _6"> </span>the<span class="_ _7"> </span>frequency<span class="_ _7"> </span>number<span class="_ _2"/>.<span class="_ _6"> </span>This<span class="_ _7"> </span>is<span class="_ _6"> </span>possible<span class="_ _7"> </span>because<span class="_ _7"> </span>all<span class="_ _6"> </span>frequencies</div><div class="t m0 x1 h5 y12c0 ff2 fs2 fc1 sc0 ls0 ws0">in<span class="_ _4"> </span>a<span class="_ _6"> </span>bucket<span class="_ _6"> </span>share<span class="_ _4"> </span>the<span class="_ _6"> </span>same<span class="_ _4"> </span>remainder<span class="_ _6"> </span><span class="ffa">B<span class="_ _8"> </span></span>(<span class="ffa">B<span class="_ _7"> </span><span class="ff8">=<span class="_ _9"> </span></span>f<span class="_ _b"> </span></span>mod<span class="_ _4"> </span><span class="ffa">M<span class="_ _17"/></span>,<span class="_ _4"> </span>where<span class="_ _6"> </span><span class="ffa">f<span class="_ _1c"> </span></span>is<span class="_ _6"> </span>the<span class="_ _6"> </span>frequency</div><a class="l" href="264.page.xhtml"><div class="d m1" style="border-style:none;position:absolute;left:158.635152px;bottom:207.157980px;width:14.835000px;height:13.947000px;background-color:rgba(255,255,255,0.000001);"/></a></div><div class="pi" data-data="{&#34;ctm&#34;:[0.808081,0.000000,0.000000,0.808081,0.000000,0.000000]}"/></div></div></body></html>