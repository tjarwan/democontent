<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><title/><link rel="stylesheet" href="../css/base.min.css"/><link rel="stylesheet" href="../css/fancy.min.css"/><link rel="stylesheet" href="../css/pdf.css"/><meta name="viewport" content="width=640, height=824"/></head><body><div id="page_body"><div id="pf6d" class="pf w2 h2" data-page-no="6d"><div class="pc pc6d w2 h2"><div class="t m0 x3d h10 y83 ff1 fs9 fc0 sc0 lsa ws0">86<span class="_ _d"> </span><span class="ff2 fs2 ls8">Advanced Persistent Threat Hacking<span class="_ _1e"/> </span></div><div class="t m0 x31 hd y11c ff4 fs7 fc0 sc0 ls0 ws0">maps a gi<span class="_ _0"/>ven DNS name to an IP address. <span class="_ _2"/>A record type PTR, or “pointer” record, </div><div class="t m0 x31 hd y11d ff4 fs7 fc0 sc0 ls0 ws0">essentially maps a DNS host record for a gi<span class="_ _0"/>ven IP address. Understand that the RIR </div><div class="t m0 x31 hd y20f ff4 fs7 fc0 sc0 ls0 ws0">doesn’t actually maintain the PTR records. Instead, it maintains a record of which </div><div class="t m0 x31 hd y210 ff4 fs7 fc0 sc0 ls0 ws0">nameservers are responsible for a gi<span class="_ _0"/>v<span class="_ _0"/>en address space.</div><div class="t m0 x31 h7 y99c ff1 fs3 fc0 sc0 ls0 ws0">Autonomous Systems</div><div class="t m0 x31 hd y3e1 ff4 fs7 fc0 sc0 lsb ws16">Next, we ha<span class="_ _0"/>ve the <span class="_ _2"/>Autonomous System (AS) numbers o<span class="_ _0"/>wned by the organization. <span class="_ _2"/>At </div><div class="t m0 x31 hd y99d ff4 fs7 fc0 sc0 ls0 ws0">their most basic le<span class="_ _0"/>vel, <span class="_ _2"/>AS numbers uniquely identify an IP address range or subnet </div><div class="t m0 x31 hd y99e ff4 fs7 fc0 sc0 ls0 ws0">with a simple 16-bit or 32-bit number<span class="_ _0"/>, typically written in decimal form, which </div><div class="t m0 x31 hd y2f2 ff4 fs7 fc0 sc0 ls0 ws0">is used by the Border Gate<span class="_ _0"/>way Protocol (BGP). BGP is commonly kno<span class="_ _0"/>wn as the </div><div class="t m0 x31 hd y216 ff4 fs7 fc0 sc0 ls0 ws0">“routing protocol of the Internet.<span class="_ _2"/>” It is responsible for ensuring that all hosts on a </div><div class="t m0 x31 hd y2f3 ff4 fs7 fc0 sc0 ls0 ws0">network (in this case, the Internet) kno<span class="_ _0"/>w ho<span class="_ _0"/>w to reach any destination netw<span class="_ _0"/>ork. If a </div><div class="t m0 x31 hd y2f4 ff4 fs7 fc0 sc0 ls0 ws0">route fails for an<span class="_ _0"/>y of a number of reasons, the dynamic nature of BGP will identify </div><div class="t m0 x31 hd y2f5 ff4 fs7 fc0 sc0 ls0 ws0">an alternate path to the destination network if one e<span class="_ _0"/>xists.</div><div class="t m0 x32 hd y99f ff4 fs7 fc0 sc0 ls0 ws0">W<span class="_ _3"/>e’ll cover BGP in depth momentarily; for no<span class="_ _0"/>w<span class="_ _2"/>, just understand that an <span class="_ _2"/>AS </div><div class="t m0 x31 hd y2f7 ff4 fs7 fc0 sc0 ls0 ws0">is simply a grouping of one or more <span class="_ _2"/>ASNs, which represent different IP address </div><div class="t m0 x31 hd y2f8 ff4 fs7 fc0 sc0 ls0 ws0">subnets. This information will be helpful for us to try to identify information about </div><div class="t m0 x31 hd y9a0 ff4 fs7 fc0 sc0 lsb ws16">the Internet connection at the target or<span class="_ _0"/>ganization, as well as any other IP address </div><div class="t m0 x31 hd y9a1 ff4 fs7 fc0 sc0 lsb ws16">ranges the organization might ha<span class="_ _0"/>ve in use.</div><div class="t m0 x31 h4 y9a2 ff2 fs1 fc0 sc0 ls0 ws0">DNS Information and Records</div><div class="t m0 x31 hd y9a3 ff4 fs7 fc0 sc0 ls0 ws0">The Domain Name System can provide a treasure tro<span class="_ _0"/>ve of useful technical and </div><div class="t m0 x31 hd y9a4 ff4 fs7 fc0 sc0 ls0 ws0">nontechnical information. <span class="_ _0"/>W<span class="_ _3"/>e will assume you have at least a basic understanding </div><div class="t m0 x31 hd y9a5 ff4 fs7 fc0 sc0 ls0 ws0">of ho<span class="_ _0"/>w DNS works and focus on some of the ke<span class="_ _0"/>ys to obtaining as much useful </div><div class="t m0 x31 hd y9a6 ff4 fs7 fc0 sc0 ls0 ws0">information through DNS as possible.</div><div class="t m0 x32 hd y9a7 ff4 fs7 fc0 sc0 ls0 ws0">There are many useful record types be<span class="_ _0"/>yond the typical “<span class="_ _3"/>A,<span class="_ _0"/>” or host record. </div><div class="t m0 x31 hd y9a8 ff4 fs7 fc0 sc0 ls0 ws0">These include</div><div class="t m0 x38 h1f y9a9 ffb fse fc0 sc0 ls0 ws0">c</div><div class="t m0 x39 h2c y9aa ff3 fs7 fc0 sc0 ls0 ws0">Start of <span class="_ _2"/>A<span class="_ _0"/>uthority (SO<span class="_ _0"/>A)<span class="_ _41"> </span><span class="ff4">These records indicate which nameservers are </span></div><div class="t m0 x39 hd y9ab ff4 fs7 fc0 sc0 ls0 ws0">responsible for a domain, as well as an e-mail contact for the person who </div><div class="t m0 x39 hd y9ac ff4 fs7 fc0 sc0 ls0 ws0">administers the domain.</div><div class="t m0 x38 h1f y9ad ffb fse fc0 sc0 ls0 ws0">c</div><div class="t m0 x39 h2c y9ae ff3 fs7 fc0 sc0 ls0 ws0">Mail Exchange (MX)<span class="_ _41"> </span><span class="ff4">This record indicates the mail servers that can be used </span></div><div class="t m0 x39 hd y9af ff4 fs7 fc0 sc0 ls0 ws0">to send mail to the target domain.</div><div class="t m0 x38 h1f y9b0 ffb fse fc0 sc0 ls0 ws0">c</div><div class="t m0 x39 h2c y9b1 ff3 fs7 fc0 sc0 ls0 ws0">Pointer Records (PTR)<span class="_ _22"> </span><span class="ff4">These records return a CNAME record for a gi<span class="_ _0"/>v<span class="_ _0"/>en </span></div><div class="t m0 x39 hd y9b2 ff4 fs7 fc0 sc0 ls0 ws0">IP address.</div><div class="t m0 x38 h1f y9b3 ffb fse fc0 sc0 ls0 ws0">c</div><div class="t m0 x39 h2c y9b4 ff3 fs7 fc0 sc0 ls0 ws0">Canonical Name Records (CNAME)<span class="_ _22"> </span><span class="ff4">This record returns an alias for </span></div><div class="t m0 x39 hd y9b5 ff4 fs7 fc0 sc0 ls0 ws0">another host record.</div></div><div class="pi" data-data="{&#34;ctm&#34;:[1.209373,0.000000,0.000000,1.209373,0.000000,0.000000]}"/></div></div></body></html>