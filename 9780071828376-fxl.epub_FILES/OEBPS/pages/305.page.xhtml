<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><title/><link rel="stylesheet" href="../css/base.min.css"/><link rel="stylesheet" href="../css/fancy.min.css"/><link rel="stylesheet" href="../css/pdf.css"/><meta name="viewport" content="width=640, height=824"/></head><body><div id="page_body"><div id="pf131" class="pf w2 h2" data-page-no="131"><div class="pc pc131 w2 h2"><div class="t m0 xbe h10 y83 ff1 fs9 fc0 sc0 lsa ws0">282<span class="_ _d"> </span><span class="ff2 fs2 ls8">Advanced Persistent Threat Hacking<span class="_ _1e"/> </span></div><div class="t m0 x3 hd y11c ff4 fs7 fc0 sc0 ls0 ws0">ready to go. <span class="_ _0"/>When the SSH server starts, you’<span class="_ _0"/>ll see the current IP address that you </div><div class="t m0 x3 hd y11d ff4 fs7 fc0 sc0 ls0 ws0">can SSH to.</div><div class="t m0 x4 hd y11e ff4 fs7 fc0 sc0 ls0 ws0">T<span class="_ _3"/>o be able to access the phone when the IP address changes, we’ll use the </div><div class="t m0 x3 hd y11f ff4 fs7 fc0 sc0 ls0 ws0">dynamic DNS service from www<span class="_ _2"/>.dyndns.com. The dyndns.com service allo<span class="_ _0"/>ws a </div><div class="t m0 x3 hd y120 ff4 fs7 fc0 sc0 ls0 ws0">system to send the current IP address to the central server using agent softw<span class="_ _0"/>are that </div><div class="t m0 x3 hd y121 ff4 fs7 fc0 sc0 ls0 ws0">runs locally on the system. <span class="_ _2"/>After the client device reports its ne<span class="_ _0"/>w IP address to the </div><div class="t m0 x3 hd y398 ff4 fs7 fc0 sc0 ls0 ws0">dyndns server<span class="_ _2"/>, we can connect to the Domain Name System (DNS) name that we’<span class="_ _0"/>ve </div><div class="t m0 x3 hd y399 ff4 fs7 fc0 sc0 ls0 ws0">congured.</div><div class="t m0 x4 hd y124 ff4 fs7 fc0 sc0 ls0 ws0">Y<span class="_ _1b"/>ou can sign up for a trial account at www<span class="_ _0"/>.dyndns.com and then install the </div><div class="t m0 x3 hd y125 ff4 fs7 fc0 sc0 ls0 ws0">DynDNS client app. Congure the app with the hostname, username, and password, </div><div class="t m0 x3 hd y126 ff4 fs7 fc0 sc0 ls0 ws0">and you’<span class="_ _2"/>re ready to go. W<span class="_ _3"/>e can then not only SSH to the phone, but we also can </div><div class="t m0 x3 hd y39a ff4 fs7 fc0 sc0 ls0 ws0">forward an<span class="_ _0"/>y ports on our system to the remote phone. If we want to access the IP </div><div class="t m0 x3 hd y39b ff4 fs7 fc0 sc0 ls0 ws0">webcam service we congured pre<span class="_ _0"/>viously<span class="_ _2"/>, which is running on port 8080, we can </div><div class="t m0 x3 hd y4b2 ff4 fs7 fc0 sc0 ls0 ws0">use the follo<span class="_ _0"/>wing command. This command says that we will listen on port 8080 on </div><div class="t m0 x3 hd y4b3 ff4 fs7 fc0 sc0 ls0 ws0">our local system and forward this to the localhost address on port 8080 at the remote </div><div class="t m0 x3 hd y4b4 ff4 fs7 fc0 sc0 ls0 ws0">end of the SSH tunnel.</div><div class="t m0 x3 h44 y1d07 fff fse fc0 sc0 ls0 ws0">ssh root@androidphone -L 8080:127.0.0.1:8080</div><div class="t m0 x4 hd yc52 ff4 fs7 fc0 sc0 ls0 ws0">If we want complete control of the phone, there are a fe<span class="_ _0"/>w good options for </div><div class="t m0 x3 hd yc53 ff4 fs7 fc0 sc0 ls0 ws0">accessing the graphical interface as if we were holding the phone in our hand. </div><div class="t m0 x3 hd y1d08 ff4 fs7 fc0 sc0 ls0 ws0">There are se<span class="_ _0"/>veral <span class="_ _2"/>VNC server apps av<span class="_ _0"/>ailable, which w<span class="_ _0"/>ork just like a standard <span class="_ _2"/>VNC </div><div class="t m0 x3 hd y1d09 ff4 fs7 fc0 sc0 ls0 ws0">server<span class="_ _2"/>, allowing us to remotely access the graphical user interface (GUI). Other </div><div class="t m0 x3 hd y1d0a ff4 fs7 fc0 sc0 ls0 ws0">full-control suites are specically designed for manipulating phones.</div><div class="t m0 x4 hd y1d0b ff4 fs7 fc0 sc0 ls0 ws0">The <span class="_ _0"/>W<span class="_ _3"/>ebkey app is a good free example that allo<span class="_ _0"/>ws you to manage your phone </div><div class="t m0 x3 hd y1d0c ff4 fs7 fc0 sc0 ls0 ws0">through a simple bare-bones web interface. Once installed, you can vie<span class="_ _0"/>w and </div><div class="t m0 x3 hd y1d0d ff4 fs7 fc0 sc0 ls0 ws0">manipulate the phone’<span class="_ _2"/>s graphical interface. Use your computer’<span class="_ _0"/>s k<span class="_ _0"/>eyboard to type on </div><div class="t m0 x3 hd y1d0e ff4 fs7 fc0 sc0 ls0 ws0">the phone, run applications, kill applications, place phone calls, upload les, manage </div><div class="t m0 x3 hd y1d0f ff4 fs7 fc0 sc0 ls0 ws0">W<span class="_ _0"/>i-Fi settings, etc. Because you ha<span class="_ _0"/>ve access to the phone’<span class="_ _2"/>s display<span class="_ _2"/>, there’<span class="_ _0"/>s really </div><div class="t m0 x3 hd y1d10 ff4 fs7 fc0 sc0 ls0 ws0">nothing you can’t do remotely that you could do with the phone in hand.</div><div class="t m0 x4 hd y1d11 ff4 fs7 fc0 sc0 ls0 ws0">Using <span class="_ _0"/>W<span class="_ _3"/>ebkey<span class="_ _2"/>, you assign a nickname at the server and then access the </div><div class="t m0 x3 hd y1d12 ff4 fs7 fc0 sc0 ls0 ws0">W<span class="_ _3"/>ebkey server using the nickname specied. F<span class="_ _0"/>or example, if we named our phone </div><div class="t m0 x3 hd y1d13 ff4 fs7 fc0 sc0 ls0 ws0">“wakizashi,<span class="_ _3"/>” we would access the phone via the URL http://webkey<span class="_ _3"/>.cc/wakizashi. </div><div class="t m0 x3 hd y1d14 ff4 fs7 fc0 sc0 ls0 ws0">Y<span class="_ _1b"/>ou would then log in to the phone using the username and password congured </div><div class="t m0 x3 hd y1d15 ff4 fs7 fc0 sc0 ls0 ws0">under settings in the <span class="_ _0"/>W<span class="_ _3"/>ebkey app.</div><div class="t m0 x4 hd y1d16 ff4 fs7 fc0 sc0 ls0 ws0">I recommend installing one of these remote control systems such as <span class="_ _0"/>W<span class="_ _3"/>ebkey on </div><div class="t m0 x3 hd y1d17 ff4 fs7 fc0 sc0 ls0 ws0">the phone, at least as a backup if something happens with the SSH server or webcam </div><div class="t m0 x3 hd y1d18 ff4 fs7 fc0 sc0 ls0 ws0">software. <span class="_ _3"/>Y<span class="_ _1b"/>ou can then remotely control the phone and x any issues, including </div><div class="t m0 x3 hd y1d19 ff4 fs7 fc0 sc0 ls0 ws0">performing a full reboot of the phone.</div><a class="" href="http://www.dyndns.com"><div class="d m1" style="border-style:none;position:absolute;left:243.204837px;bottom:648.272109px;width:82.000000px;height:12.000000px;background-color:rgba(255,255,255,0.000001);"/></a><a class="" href="http://www.dyndns.com"><div class="d m1" style="border-style:none;position:absolute;left:308.510960px;bottom:568.453515px;width:79.000000px;height:12.000000px;background-color:rgba(255,255,255,0.000001);"/></a><a class="" href="http://webkey.cc/wakizashi"><div class="d m1" style="border-style:none;position:absolute;left:382.282691px;bottom:199.594860px;width:121.000000px;height:12.000000px;background-color:rgba(255,255,255,0.000001);"/></a><a class="" href="http://dyndns.com"><div class="d m1" style="border-style:none;position:absolute;left:370.188964px;bottom:648.272109px;width:53.000000px;height:12.000000px;background-color:rgba(255,255,255,0.000001);"/></a></div><div class="pi" data-data="{&#34;ctm&#34;:[1.209373,0.000000,0.000000,1.209373,0.000000,0.000000]}"/></div></div></body></html>