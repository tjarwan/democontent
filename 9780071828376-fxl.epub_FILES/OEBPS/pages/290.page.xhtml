<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><title/><link rel="stylesheet" href="../css/base.min.css"/><link rel="stylesheet" href="../css/fancy.min.css"/><link rel="stylesheet" href="../css/pdf.css"/><meta name="viewport" content="width=640, height=824"/></head><body><div id="page_body"><div id="pf122" class="pf w2 h2" data-page-no="122"><div class="pc pc122 w2 h2"><div class="t m0 xa3 h10 y83 ff2 fs2 fc0 sc0 ls8 ws0">Chapter 7: Phase III: Remote T<span class="_ _0"/>argeting<span class="_ _9"> </span><span class="ff1 fs9 lsa">267</span></div><div class="t m0 x3 hd y11c ff4 fs7 fc0 sc0 ls0 ws0">servers. <span class="_ _0"/>Thus, it’<span class="_ _2"/>s as simple as starting msfconsole with this resource le, as in the </div><div class="t m0 x3 hd y11d ff4 fs7 fc0 sc0 ls0 ws0">follo<span class="_ _0"/>wing example:</div><div class="t m0 x3 h44 yc84 fff fse fc0 sc0 ls0 ws0">root@klap:~# msfconsole -r servers.rc</div><div class="t m0 x4 hd y1bef ff4 fs7 fc0 sc0 ls0 ws0">At the time of this writing, these fake serv<span class="_ _0"/>ers include</div><div class="t m0 x16 h1f y1a1c ffb fse fc0 sc0 ls0 ws0">c</div><div class="t m0 x1 hd y1bf0 ff4 fs7 fc0 sc0 ls0 ws0">SMTP</div><div class="t m0 x16 h1f y1bf1 ffb fse fc0 sc0 ls0 ws0">c</div><div class="t m0 x1 hd y1bf2 ff4 fs7 fc0 sc0 ls0 ws0">IMAP</div><div class="t m0 x16 h1f y1bf3 ffb fse fc0 sc0 ls0 ws0">c</div><div class="t m0 x1 hd y1bf4 ff4 fs7 fc0 sc0 ls0 ws0">POP3</div><div class="t m0 x16 h1f y1bf5 ffb fse fc0 sc0 ls0 ws0">c</div><div class="t m0 x1 hd y1bf6 ff4 fs7 fc0 sc0 ls0 ws0">FTP</div><div class="t m0 x16 h1f y1bf7 ffb fse fc0 sc0 ls0 ws0">c</div><div class="t m0 x1 hd y1bf8 ff4 fs7 fc0 sc0 ls0 ws0">DRD<span class="_ _0"/>A</div><div class="t m0 x16 h1f y1bf9 ffb fse fc0 sc0 ls0 ws0">c</div><div class="t m0 x1 hd y1bfa ff4 fs7 fc0 sc0 ls0 ws0">MSSQL</div><div class="t m0 x16 h1f y1bfb ffb fse fc0 sc0 ls0 ws0">c</div><div class="t m0 x1 hd y1bfc ff4 fs7 fc0 sc0 ls0 ws0">MySQL</div><div class="t m0 x16 h1f y1bfd ffb fse fc0 sc0 ls0 ws0">c</div><div class="t m0 x1 hd y1bfe ff4 fs7 fc0 sc0 ls0 ws0">PostgreSQL</div><div class="t m0 x16 h1f y1bff ffb fse fc0 sc0 ls0 ws0">c</div><div class="t m0 x1 hd y1c00 ff4 fs7 fc0 sc0 ls0 ws0">Printjob_capture</div><div class="t m0 x16 h1f y1c01 ffb fse fc0 sc0 ls0 ws0">c</div><div class="t m0 x1 hd y1c02 ff4 fs7 fc0 sc0 ls0 ws0">SIP (V<span class="_ _0"/>OIP)</div><div class="t m0 x16 h1f y1c03 ffb fse fc0 sc0 ls0 ws0">c</div><div class="t m0 x1 hd y1c04 ff4 fs7 fc0 sc0 ls0 ws0">SMB</div><div class="t m0 x16 h1f y1c05 ffb fse fc0 sc0 ls0 ws0">c</div><div class="t m0 x1 hd y1c06 ff4 fs7 fc0 sc0 ls0 ws0">T<span class="_ _2"/>elnet</div><div class="t m0 x16 h1f y1c07 ffb fse fc0 sc0 ls0 ws0">c</div><div class="t m0 x1 hd y1c08 ff4 fs7 fc0 sc0 ls0 ws0">VNC</div><div class="t m0 x4 hd y1c09 ff4 fs7 fc0 sc0 ls0 ws0">Most of these servers don’<span class="_ _0"/>t e<span class="_ _0"/>ven require much conguration at all. Man<span class="_ _0"/>y of them </div><div class="t m0 x3 h3f y1c0a ff4 fs7 fc0 sc0 ls0 ws0">simply need the <span class="fff">exploit</span> command to start them. Some of the servers will obtain </div><div class="t m0 x3 hd y1c0b ff4 fs7 fc0 sc0 ls0 ws0">hashed passwords, so it’<span class="_ _2"/>s best to include the JOHNPWFILE option to automatically </div><div class="t m0 x3 hd y1c0c ff4 fs7 fc0 sc0 ls0 ws0">sav<span class="_ _0"/>e the hashes to an external le.</div><div class="t m0 x4 hd y1c0d ff4 fs7 fc0 sc0 ls0 ws0">When you run msfconsole with the rc le, you’ll see output similar to the </div><div class="t m0 x3 hd y1c0e ff4 fs7 fc0 sc0 ls0 ws0">follo<span class="_ _0"/>wing as all of the fake serv<span class="_ _0"/>ers are started: </div><div class="t m0 x3 h44 y1c0f fff fse fc0 sc0 ls0 ws0">[*] Processing servers.rc for ERB directives.</div><div class="t m0 x3 h44 y1c10 fff fse fc0 sc0 ls0 ws0">resource (servers.rc)&gt; spool /root/arap.servers.log</div><div class="t m0 x3 h44 y1c11 fff fse fc0 sc0 ls0 ws0">[*] Spooling to file /root/arap.servers.log...</div><div class="t m0 x3 h44 y1c12 fff fse fc0 sc0 ls0 ws0">resource (servers.rc)&gt; use auxiliary/server/capture/smtp</div><div class="t m0 x3 h44 y1c13 fff fse fc0 sc0 ls0 ws0">resource (servers.rc)&gt; exploit</div><div class="t m0 x3 h44 y1c14 fff fse fc0 sc0 ls0 ws0">[*] Auxiliary module execution completed</div><div class="t m0 x3 h44 y1c15 fff fse fc0 sc0 ls0 ws0">resource (servers.rc)&gt; use auxiliary/server/capture/imap</div><div class="t m0 x3 h44 y1c16 fff fse fc0 sc0 ls0 ws0">resource (servers.rc)&gt; exploit</div><div class="t m0 x3 h44 y1c17 fff fse fc0 sc0 ls0 ws0">[*] Auxiliary module execution completed</div><div class="t m0 x3 h44 y1c18 fff fse fc0 sc0 ls0 ws0">resource (servers.rc)&gt; use auxiliary/server/capture/pop3</div></div><div class="pi" data-data="{&#34;ctm&#34;:[1.209373,0.000000,0.000000,1.209373,0.000000,0.000000]}"/></div></div></body></html>