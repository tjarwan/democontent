<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><title/><link rel="stylesheet" href="../css/base.min.css"/><link rel="stylesheet" href="../css/fancy.min.css"/><link rel="stylesheet" href="../css/pdf.css"/><meta name="viewport" content="width=640, height=824"/></head><body><div id="page_body"><div id="pf9f" class="pf w2 h2" data-page-no="9f"><div class="pc pc9f w2 h2"><img class="bi x94 yee1 w6 h57" alt="" src="bg9f.png"/><div class="t m0 xbe h10 y83 ff1 fs9 fc0 sc0 lsa ws0">136<span class="_ _d"> </span><span class="ff2 fs2 ls8">Advanced Persistent Threat Hacking<span class="_ _1e"/> </span></div><div class="t m0 x4 h3f y172 ff4 fs7 fc0 sc0 ls0 ws0">Here are the rst four resulting <span class="fff">wget</span> commands:</div><div class="t m0 x3 h40 yee2 fff fs5 fc0 sc0 ls0 ws0">wget http://weaktarget.com/directory/search.php?=a --output-document=a.html</div><div class="t m0 x3 h40 yee3 fff fs5 fc0 sc0 ls0 ws0">wget http://weaktarget.com/directory/search.php?=b --output-document=b.html</div><div class="t m0 x3 h40 yee4 fff fs5 fc0 sc0 ls0 ws0">wget http://weaktarget.com/directory/search.php?=c --output-document=c.html</div><div class="t m0 x3 h40 yee5 fff fs5 fc0 sc0 ls0 ws0">wget http://weaktarget.com/directory/search.php?=d --output-document=d.html</div><div class="t m0 x94 h2f yee6 ffe fs9 fc0 sc0 ls0 ws0">NOTE</div><div class="t m0 x94 h14 yee7 ff9 fs7 fc0 sc0 ls0 ws0">If the server requires more than one letter as the search term, you have a few options. One of </div><div class="t m0 x94 h14 yee8 ff9 fs7 fc0 sc0 ls0 ws0">the simplest methods is to create an embedded loop to send every two-letter combination of the </div><div class="t m0 x94 h14 yee9 ff9 fs7 fc0 sc0 ls0 ws0">alphabet. Remember<span class="_ _2"/>, as always, to get creative.</div><div class="t m0 x4 h3f yeea ff4 fs7 fc0 sc0 ls0 ws0">Y<span class="_ _1b"/>ou should note that the output-document option for <span class="fff">wget</span> is different from the </div><div class="t m0 x3 hd yeeb ff4 fs7 fc0 sc0 ls0 ws0">output-le option. The output-document option will sa<span class="_ _0"/>ve all of the content recei<span class="_ _0"/>v<span class="_ _0"/>ed </div><div class="t m0 x3 hd yeec ff4 fs7 fc0 sc0 ls0 ws0">from the remote HTTP server<span class="_ _2"/>, while output-le will simply output the log le to the </div><div class="t m0 x3 hd yeed ff4 fs7 fc0 sc0 ls0 ws0">specied le. </div><div class="t m0 x4 hd yeee ff4 fs7 fc0 sc0 ls0 ws0">The output-document option is also better than simply redirecting output, as this </div><div class="t m0 x3 hd yeef ff4 fs7 fc0 sc0 ls0 ws0">option will concatenate <span class="ff5">all</span> do<span class="_ _0"/>wnloaded content and write it to a single le. </div><div class="t m0 x94 h2f yef0 ffe fs9 fc0 sc0 ls0 ws0">NOTE</div><div class="t m0 x94 h14 yef1 ff9 fs7 fc0 sc0 ls0 ws0">A nice little trick that comes in handy is to change the script to perform a simple echo command. </div><div class="t m0 x94 h14 yef2 ff9 fs7 fc0 sc0 ls0 ws0">Then, instead of running the command, the script will print the command to stdout. This will then </div><div class="t m0 x94 h14 yef3 ff9 fs7 fc0 sc0 ls0 ws0">allow you to pipe this output into a text le, which you can then make a few manual modications </div><div class="t m0 x94 h14 yef4 ff9 fs7 fc0 sc0 ls0 ws0">to and turn this into a script itself, which you can then run. This also makes it a little easier to run </div><div class="t m0 x94 h14 yef5 ff9 fs7 fc0 sc0 ls0 ws0">the commands multiple times.</div><div class="t m0 x3 h4 yef6 ff2 fs1 fc0 sc0 ls0 ws0">Director<span class="_ _1"/>y Har<span class="_ _1"/>vesting: Stateful HTTP</div><div class="t m0 x3 hd yef7 ff4 fs7 fc0 sc0 ls0 ws0">If the website requires a stateful connection to perform multiple searches, we hav<span class="_ _0"/>e </div><div class="t m0 x3 hd yef8 ff4 fs7 fc0 sc0 ls0 ws0">a fe<span class="_ _0"/>w options for web-related tools that can automate queries and sav<span class="_ _0"/>e the results. If </div><div class="t m0 x3 hd yef9 ff4 fs7 fc0 sc0 ls0 ws0">the site stores session v<span class="_ _0"/>ariables or related data in a cookie, then you can script with </div><div class="t m0 x3 h3f yefa fff fs7 fc0 sc0 ls0 ws0">wget<span class="ff4"> and load the cookies le using the -load-cookies &lt;le&gt; option. I prefer to use </span></div><div class="t m0 x3 hd yefb ff4 fs7 fc0 sc0 ls0 ws0">Burp Suite, as it is exible and contains man<span class="_ _0"/>y dif<span class="_ _0"/>ferent modules for different tasks. </div><div class="t m0 x4 hd yefc ff4 fs7 fc0 sc0 ls0 ws0">T<span class="_ _3"/>o automate this search, we will use the intruder functionality of Burp Suite. This </div><div class="t m0 x3 hd yefd ff4 fs7 fc0 sc0 ls0 ws0">allo<span class="_ _0"/>ws us to select a target web page and then send se<span class="_ _0"/>veral requests with a list of </div><div class="t m0 x3 hd yefe ff4 fs7 fc0 sc0 ls0 ws0">“payloads,<span class="_ _2"/>” or in this case, search terms. Start by opening Burp Suite and ensuring it </div><div class="t m0 x3 hd yeff ff4 fs7 fc0 sc0 ls0 ws0">is congured to act as your proxy server<span class="_ _2"/>. In Kali Linux, open a command shell—the </div></div><div class="pi" data-data="{&#34;ctm&#34;:[1.209373,0.000000,0.000000,1.209373,0.000000,0.000000]}"/></div></div></body></html>