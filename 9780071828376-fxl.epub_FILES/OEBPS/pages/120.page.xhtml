<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><title/><link rel="stylesheet" href="../css/base.min.css"/><link rel="stylesheet" href="../css/fancy.min.css"/><link rel="stylesheet" href="../css/pdf.css"/><meta name="viewport" content="width=640, height=824"/></head><body><div id="page_body"><div id="pf78" class="pf w2 h2" data-page-no="78"><div class="pc pc78 w2 h2"><img class="bi x94 yac7 w6 h2e" alt="" src="bg78.png"/><div class="t m0 x93 h10 y83 ff2 fs2 fc0 sc0 ls8 ws0">Chapter 4: An APT Approach to Reconnaissance <span class="_ _3f"> </span><span class="ff1 fs9 lsa">97</span></div><div class="t m0 x4 hd y172 ff4 fs7 fc0 sc0 lsb ws16">If the organization has special reasons for pro<span class="_ _0"/>viding a lot of redundancy and f<span class="_ _0"/>ault </div><div class="t m0 x3 hd y173 ff4 fs7 fc0 sc0 lsb ws16">tolerance, they may e<span class="_ _0"/>v<span class="_ _0"/>en hav<span class="_ _0"/>e a unique physical site that also advertises the tar<span class="_ _0"/>get </div><div class="t m0 x3 hd y19a ff4 fs7 fc0 sc0 ls0 ws16">subnet.</div><div class="t m0 x94 h2f y424 ffe fs9 fc0 sc0 ls0 ws16">NOTE</div><div class="t m0 x94 h14 yac8 ff9 fs7 fc0 sc0 ls0 ws0">In some cases, the organization may choose to not advertise the alternative path to the subnet </div><div class="t m0 x94 h14 yac9 ff9 fs7 fc0 sc0 ls0 ws0">until there is a failure. This means that if we only check the routing tables once, we may not </div><div class="t m0 x94 h14 yaca ff9 fs7 fc0 sc0 ls0 ws0">observe this alternative path. Thus, we should monitor the BGP routing tables for changes over a </div><div class="t m0 x94 h14 yacb ff9 fs7 fc0 sc0 ls0 ws0">long time.</div><div class="t m0 x4 hd yacc ff4 fs7 fc0 sc0 ls0 ws0">This is a very important f<span class="_ _0"/>act, as this means that Firew<span class="_ _0"/>all 1 and Fire<span class="_ _0"/>wall 2 </div><div class="t m0 x3 hd yacd ff4 fs7 fc0 sc0 ls0 ws0">could potentially hav<span class="_ _0"/>e two distinct and dif<span class="_ _0"/>ferent congurations. <span class="_ _2"/>Although most </div><div class="t m0 x3 hd yace ff4 fs7 fc0 sc0 lsb ws16">organizations will try to ha<span class="_ _0"/>ve the e<span class="_ _0"/>xact same conguration between their primary site </div><div class="t m0 x3 hd yacf ff4 fs7 fc0 sc0 ls0 ws0">and backup site, it is not uncommon for there to be dif<span class="_ _0"/>ferences. From subtle nuances </div><div class="t m0 x3 hd yad0 ff4 fs7 fc0 sc0 ls0 ws0">to extremely important details (such as f<span class="_ _0"/>ar less restrictiv<span class="_ _0"/>e re<span class="_ _0"/>wall <span class="_ _2"/>A<span class="_ _0"/>CLs), all of this </div><div class="t m0 x3 hd yad1 ff4 fs7 fc0 sc0 ls0 ws0">information can be extremely important to us and could pro<span class="_ _0"/>vide an easy technical </div><div class="t m0 x3 hd yad2 ff4 fs7 fc0 sc0 ls0 ws0">exploit path.</div><div class="t m0 x4 hd yad3 ff4 fs7 fc0 sc0 lsb ws16">It is likely that an<span class="_ _0"/>y differences are not intentional, as most or<span class="_ _0"/>ganizations will try </div><div class="t m0 x3 hd yad4 ff4 fs7 fc0 sc0 ls0 ws0">to congure their backup sites identical to their production sites. Ho<span class="_ _0"/>wev<span class="_ _0"/>er<span class="_ _0"/>, the v<span class="_ _0"/>ery </div><div class="t m0 x3 hd yad5 ff4 fs7 fc0 sc0 ls0 ws0">nature of the backup site probably means that it gets less attention and less “li<span class="_ _0"/>ve” </div><div class="t m0 x3 hd yad6 ff4 fs7 fc0 sc0 ls0 ws0">time for the personnel supporting it to notice the dif<span class="_ _0"/>ferences in conguration.</div><div class="t m0 x4 hd yad7 ff4 fs7 fc0 sc0 lsb ws16">Y<span class="_ _1b"/>ou should note that not all organizations use BGP at their perimeter<span class="_ _2"/>. This is </div><div class="t m0 x3 hd yad8 ff4 fs7 fc0 sc0 lsb ws16">typically reserved for lar<span class="_ _0"/>ger organizations or or<span class="_ _0"/>ganizations that provide access to </div><div class="t m0 x3 hd yad9 ff4 fs7 fc0 sc0 ls0 ws0">their network as part of their b<span class="_ _0"/>usiness. For e<span class="_ _0"/>xample, a Software as a Service (SAAS) </div><div class="t m0 x3 hd yada ff4 fs7 fc0 sc0 ls0 ws0">provider w<span class="_ _0"/>ould most likely use BGP to ensure their products are alw<span class="_ _0"/>ays av<span class="_ _0"/>ailable to </div><div class="t m0 x3 hd yadb ff4 fs7 fc0 sc0 ls0 ws0">their customers.</div><div class="t m0 x4 hd yadc ff4 fs7 fc0 sc0 lsb ws16">This is dif<span class="_ _0"/>ferent from organizations that simply want redundanc<span class="_ _0"/>y for access to the </div><div class="t m0 x3 hd yadd ff4 fs7 fc0 sc0 ls0 ws0">Internet for their internal systems. This can be accomplished with a much simpler </div><div class="t m0 x3 hd yade ff4 fs7 fc0 sc0 ls0 ws0">network setup that does not require an<span class="_ _0"/>y exterior dynamic routing protocols, as sho<span class="_ _0"/>wn </div><div class="t m0 x3 hd yadf ff4 fs7 fc0 sc0 ls0 ws0">in Figure 4-7.</div><div class="t m0 x4 hd yae0 ff4 fs7 fc0 sc0 lsb ws16">In this example, the or<span class="_ _0"/>ganization may look similar<span class="_ _0"/>, b<span class="_ _0"/>ut because the organization </div><div class="t m0 x3 hd yae1 ff4 fs7 fc0 sc0 ls0 ws0">doesn’t need to pro<span class="_ _0"/>vide access to its network, it is not using BGP<span class="_ _1b"/>. <span class="_ _3"/>Y<span class="_ _3"/>ou can consider </div><div class="t m0 x3 hd yae2 ff4 fs7 fc0 sc0 lsb ws16">that to be a common reason (although not the only reason) why an organization </div><div class="t m0 x3 hd yae3 ff4 fs7 fc0 sc0 ls0 ws0">would choose to use BGP<span class="_ _1b"/>. If they use BGP<span class="_ _1b"/>, they probably need to maintain inbound </div><div class="t m0 x3 hd yae4 ff4 fs7 fc0 sc0 ls0 ws0">access to their network from other Internet sources. If the<span class="_ _0"/>y don’t use BGP<span class="_ _1b"/>, they </div><div class="t m0 x3 hd yae5 ff4 fs7 fc0 sc0 ls0 ws0">probably are only concerned with outbound Internet access from their networks.</div></div><div class="pi" data-data="{&#34;ctm&#34;:[1.209373,0.000000,0.000000,1.209373,0.000000,0.000000]}"/></div></div></body></html>