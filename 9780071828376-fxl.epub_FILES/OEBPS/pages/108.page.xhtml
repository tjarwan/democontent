<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><title/><link rel="stylesheet" href="../css/base.min.css"/><link rel="stylesheet" href="../css/fancy.min.css"/><link rel="stylesheet" href="../css/pdf.css"/><meta name="viewport" content="width=640, height=824"/></head><body><div id="page_body"><div id="pf6c" class="pf w2 h2" data-page-no="6c"><div class="pc pc6c w2 h2"><img class="bi x94 y981 w6 h2e" alt="" src="bg6c.png"/><div class="t m0 x93 h10 y83 ff2 fs2 fc0 sc0 ls8 ws0">Chapter 4: An APT Approach to Reconnaissance <span class="_ _3f"> </span><span class="ff1 fs9 lsa">85</span></div><div class="t m0 x3 hd y172 ff4 fs7 fc0 sc0 ls0 ws0">necessarily; ho<span class="_ _0"/>wev<span class="_ _0"/>er<span class="_ _0"/>, based on the data and the source of the data, we can probably </div><div class="t m0 x3 hd y173 ff4 fs7 fc0 sc0 ls0 ws0">assume this is the demarc (or demarcation point) for this IP network. <span class="_ _2"/>A demarc is the </div><div class="t m0 x3 hd y174 ff4 fs7 fc0 sc0 lsb ws16">physical (and logical) location where a vendor will hand of<span class="_ _0"/>f a network connection. </div><div class="t m0 x3 hd y175 ff4 fs7 fc0 sc0 ls0 ws0">So in this case, we might be able to assume that this is where the ISP terminates the </div><div class="t m0 x3 hd y176 ff4 fs7 fc0 sc0 ls0 ws0">network connection for this address space. Ho<span class="_ _0"/>w do we nd out the ISP? <span class="_ _0"/>W<span class="_ _3"/>e’ll cover </div><div class="t m0 x3 hd y177 ff4 fs7 fc0 sc0 ls0 ws0">that in our discussion of BGP<span class="_ _1b"/>.</div><div class="t m0 x4 hd y178 ff4 fs7 fc0 sc0 ls0 ws0">Is this earth-shattering, stop-the-presses, call-the-president information? Probably </div><div class="t m0 x3 hd y179 ff4 fs7 fc0 sc0 ls0 ws0">not, but is it useful information? <span class="_ _2"/>Absolutely<span class="_ _2"/>.</div><div class="t m0 x4 hd y982 ff4 fs7 fc0 sc0 lsf ws1b">Ho<span class="_ _0"/>w can we use this information to our advantage? <span class="_ _0"/>W<span class="_ _2"/>ithout getting too far ahead </div><div class="t m0 x3 hd y983 ff4 fs7 fc0 sc0 lsf ws1b">of ourselves, this seems lik<span class="_ _0"/>e perfect information for a social engineering attack. If you </div><div class="t m0 x3 hd y8e3 ff4 fs7 fc0 sc0 lsf ws0">wanted to get physical access to this location’<span class="_ _2"/>s data closet, you could call and say you </div><div class="t m0 x3 hd y984 ff4 fs7 fc0 sc0 lsf ws1b">are from <span class="_ _2"/>V<span class="_ _3"/>erizon and you need to get access to the demarc as part of an audit. <span class="_ _2"/>Y<span class="_ _1b"/>ou </div><div class="t m0 x3 hd y985 ff4 fs7 fc0 sc0 lsf ws1b">could then gi<span class="_ _0"/>ve them the information you (V<span class="_ _1b"/>erizon) hav<span class="_ _0"/>e on where the demarc should </div><div class="t m0 x3 hd y986 ff4 fs7 fc0 sc0 lsf ws1b">be. By demonstrating that you hav<span class="_ _0"/>e supposedly pri<span class="_ _0"/>vileged information and sho<span class="_ _0"/>wing </div><div class="t m0 x3 hd y987 ff4 fs7 fc0 sc0 lsf ws0">up in a <span class="_ _2"/>V<span class="_ _3"/>erizon shirt, would it be easy to then get access to the data closet?</div><div class="t m0 x94 h2f y988 ffe fs9 fc0 sc0 ls0 ws0">NOTE</div><div class="t m0 x94 h14 y989 ff9 fs7 fc0 sc0 ls0 ws0">Remember to always ask how you can use information to your advantage, rather than if this </div><div class="t m0 x94 h14 y98a ff9 fs7 fc0 sc0 ls0 ws0">information is usable.</div><div class="t m0 x4 hd y98b ff4 fs7 fc0 sc0 lsb ws16">Again, this dri<span class="_ _0"/>ves home the point that especially during the recon phase, you </div><div class="t m0 x3 hd y98c ff4 fs7 fc0 sc0 ls0 ws0">won’<span class="_ _0"/>t always kno<span class="_ _0"/>w e<span class="_ _0"/>xactly what you’<span class="_ _0"/>re looking for<span class="_ _2"/>. Instead, properly performing </div><div class="t m0 x3 hd y98d ff4 fs7 fc0 sc0 ls0 ws0">reconnaissance means you must manually analyze all of the data av<span class="_ _0"/>ailable to you. </div><div class="t m0 x3 h7 y98e ff1 fs3 fc0 sc0 ls0 ws0">Network Allocations</div><div class="t m0 x3 hd y98f ff4 fs7 fc0 sc0 ls0 ws0">Any IPv4 and IPv6 address space assigned to customers returned in our search </div><div class="t m0 x3 hd y990 ff4 fs7 fc0 sc0 ls0 ws0">results will be listed under the “Networks” heading. <span class="_ _0"/>This isn’t a guarantee that </div><div class="t m0 x3 hd y991 ff4 fs7 fc0 sc0 lsb ws16">the organization has an<span class="_ _0"/>y systems actually using these IP addresses, just that the </div><div class="t m0 x3 hd y992 ff4 fs7 fc0 sc0 lsb ws16">organization is responsible for and capable of assigning those IP addresses. In f<span class="_ _0"/>act, </div><div class="t m0 x3 hd y993 ff4 fs7 fc0 sc0 lsb ws16">many or<span class="_ _0"/>ganizations hav<span class="_ _0"/>e extremely lar<span class="_ _0"/>ge ranges of IP addresses that are unused. </div><div class="t m0 x4 hd y994 ff4 fs7 fc0 sc0 ls0 ws0">The most meaningful information here for us is probably the NetRange and the </div><div class="t m0 x3 hd y995 ff4 fs7 fc0 sc0 lsb ws16">CIDR notation of the networks assigned to this or<span class="_ _0"/>ganization. If you found this IP </div><div class="t m0 x3 hd y996 ff4 fs7 fc0 sc0 ls0 ws0">range by searching by IP address, then you should click the Customer link to see if </div><div class="t m0 x3 hd y997 ff4 fs7 fc0 sc0 lsb ws16">this organization has an<span class="_ _0"/>y other network ranges assigned to them.</div><div class="t m0 x4 hd y998 ff4 fs7 fc0 sc0 lsb ws16">Y<span class="_ _1b"/>ou can also click the Related Delegations link to nd the DNS servers assigned </div><div class="t m0 x3 hd y999 ff4 fs7 fc0 sc0 ls0 ws0">to handle the re<span class="_ _0"/>verse resolution for this network range. <span class="_ _0"/>W<span class="_ _3"/>e will div<span class="_ _0"/>e much deeper </div><div class="t m0 x3 hd y99a ff4 fs7 fc0 sc0 ls0 ws0">into DNS recon shortly; for no<span class="_ _0"/>w<span class="_ _2"/>, let’<span class="_ _0"/>s just identify the DNS-related information </div><div class="t m0 x3 hd y99b ff4 fs7 fc0 sc0 ls0 ws0">we can obtain from an RIR. In DNS, an “<span class="_ _3"/>A” record, also known as a host record, </div></div><div class="pi" data-data="{&#34;ctm&#34;:[1.209373,0.000000,0.000000,1.209373,0.000000,0.000000]}"/></div></div></body></html>