<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><title/><link rel="stylesheet" href="../css/base.min.css"/><link rel="stylesheet" href="../css/fancy.min.css"/><link rel="stylesheet" href="../css/pdf.css"/><meta name="viewport" content="width=640, height=824"/></head><body><div id="page_body"><div id="pf9d" class="pf w2 h2" data-page-no="9d"><div class="pc pc9d w2 h2"><img class="bi x24 ye9f wb h55" alt="" src="bg9d.png"/><div class="t m0 xac h10 y83 ff1 fs9 fc0 sc0 lsa ws0">134<span class="_ _d"> </span><span class="ff2 fs2 ls8">Advanced Persistent Threat Hacking<span class="_ _1e"/> </span></div><div class="t m0 x6e hd y172 ff4 fs7 fc0 sc0 ls0 ws0">returned. There will be times where you might come across this information in a </div><div class="t m0 x6e hd y173 ff4 fs7 fc0 sc0 ls0 ws0">system other than a website, but for no<span class="_ _0"/>w<span class="_ _3"/>, we’ll focus on a web directory<span class="_ _2"/>.</div><div class="t m0 x6f hd y19a ff4 fs7 fc0 sc0 ls0 ws0">T<span class="_ _3"/>ypically<span class="_ _0"/>, you’<span class="_ _0"/>ll hav<span class="_ _0"/>e a simple search form to identify employees or departments. </div><div class="t m0 x6e hd y19b ff4 fs7 fc0 sc0 ls0 ws0">Some directories require you to enter more than one character<span class="_ _0"/>, b<span class="_ _0"/>ut in this case, we </div><div class="t m0 x6e hd y19c ff4 fs7 fc0 sc0 ls0 ws0">are only required to enter a single character<span class="_ _2"/>. W<span class="_ _3"/>e identied this by simply typing the </div><div class="t m0 x6e hd y19d ff4 fs7 fc0 sc0 ls0 ws0">letter <span class="ff5">j</span> and a list of employees is returned. Sometimes, it is relati<span class="_ _0"/>vely ob<span class="_ _0"/>vious ho<span class="_ _0"/>w </div><div class="t m0 x6e hd yea0 ff4 fs7 fc0 sc0 ls0 ws0">the search results are ordered, and other times it is a little unclear<span class="_ _2"/>. For example, some </div><div class="t m0 x6e hd yea1 ff4 fs7 fc0 sc0 ls0 ws0">search results will be ordered by last names that begin with the letter <span class="ff5">A</span>, while other </div><div class="t m0 x6e hd yea2 ff4 fs7 fc0 sc0 ls0 ws0">results might include any name containing the letter <span class="ff5">A</span>. In either case, with the po<span class="_ _0"/>wer </div><div class="t m0 x6e hd yea3 ff4 fs7 fc0 sc0 ls0 ws0">of scripting behind us, we’ll enumerate e<span class="_ _0"/>very letter in the alphabet and then parse the </div><div class="t m0 x6e hd yea4 ff4 fs7 fc0 sc0 ls0 ws0">results and remov<span class="_ _0"/>e any duplicates.</div><div class="t m0 x6f hd yea5 ff4 fs7 fc0 sc0 ls0 ws0">So our ov<span class="_ _0"/>erall process will look like this:</div><div class="t m0 xba h22 yea6 ffd fs5 fc6 sc0 ls0 ws0">Search</div><div class="t m0 x3a h22 yea7 ffd fs5 fc6 sc0 ls0 ws0">directory for</div><div class="t m0 x16 h22 yea8 ffd fs5 fc6 sc0 ls0 ws0">all letters in</div><div class="t m0 x58 h22 yea9 ffd fs5 fc6 sc0 ls0 ws0">alphabet</div><div class="t m0 x1a h22 yeaa ffd fs5 fc6 sc0 ls0 ws0">Save HTML</div><div class="t m0 x9e h22 yeab ffd fs5 fc6 sc0 ls0 ws0">les</div><div class="t m0 xa3 h22 yeac ffd fs5 fc6 sc0 ls0 ws0">Extract</div><div class="t m0 xb8 h22 yead ffd fs5 fc6 sc0 ls0 ws0">relevant</div><div class="t m0 x72 h22 yeae ffd fs5 fc6 sc0 ls0 ws0">information</div><div class="t m0 xbb h22 yeaf ffd fs5 fc6 sc0 ls0 ws0">Remove</div><div class="t m0 xbc h22 yeb0 ffd fs5 fc6 sc0 ls0 ws0">duplicates</div><div class="t m0 xbd h22 yeaf ffd fs5 fc6 sc0 ls0 ws0">Create</div><div class="t m0 x74 h22 yeb0 ffd fs5 fc6 sc0 ls0 ws0">spreadsheet</div><div class="t m0 xad h2f yeb1 ffe fs9 fc0 sc0 ls0 ws0">NOTE</div><div class="t m0 xad h14 yeb2 ff9 fs7 fc0 sc0 ls0 ws0">In some cases, it may be necessary to only search for vowels, as all names will have at least one </div><div class="t m0 xad h14 yeb3 ff9 fs7 fc0 sc0 ls0 ws0">vowel. This might work if the directory searches for that letter within the name. If it returns results </div><div class="t m0 xad h14 yeb4 ff9 fs7 fc0 sc0 ls0 ws0">for names that only <span class="ff2">start</span> with that letter<span class="_ _2"/>, though, we must search for every letter<span class="_ _2"/>. Either way<span class="_ _2"/>, </div><div class="t m0 xad h14 yeb5 ff9 fs7 fc0 sc0 ls0 ws0">I always prefer to be sure that I’ve obtained as much data as I can and then simply remove any </div><div class="t m0 xad h14 yeb6 ff9 fs7 fc0 sc0 ls0 ws0">duplicates.</div><div class="t m0 x6e h4 yeb7 ff2 fs1 fc0 sc0 ls0 ws0">Director<span class="_ _1"/>y Har<span class="_ _1"/>vesting: HTTP Requests</div><div class="t m0 x6e hd yeb8 ff4 fs7 fc0 sc0 ls0 ws0">If we’<span class="_ _2"/>re lucky<span class="_ _2"/>, the online directory will be stateless and the search parameter will be </div><div class="t m0 x6e hd yeb9 ff4 fs7 fc0 sc0 ls0 ws0">in a simple GET or POST request. Stateless means that we can interact with the web </div><div class="t m0 x6e hd yeba ff4 fs7 fc0 sc0 ls0 ws0">page without having to maintain a session ID or other “user tracking” system. </div><div class="t m0 x6f hd yebb ff4 fs7 fc0 sc0 ls0 ws0">Y<span class="_ _1b"/>ou should understand the difference between POST and GET requests. Each of </div><div class="t m0 x6e hd yebc ff4 fs7 fc0 sc0 ls0 ws0">these is a dif<span class="_ _0"/>ferent method within the HTTP protocol for requesting resources from </div><div class="t m0 x6e hd yebd ff4 fs7 fc0 sc0 ls0 ws0">a server<span class="_ _2"/>. It is easy to determine if the search is performed ov<span class="_ _0"/>er POST or GET<span class="_ _2"/>. <span class="_ _2"/>Any </div><div class="t m0 x6e hd yebe ff4 fs7 fc0 sc0 ls0 ws0">GET request v<span class="_ _0"/>ariables are sent in the URL address, which means we should see it </div><div class="t m0 x6e hd yebf ff4 fs7 fc0 sc0 ls0 ws0">right in our bro<span class="_ _0"/>wser<span class="_ _0"/>, while POST v<span class="_ _0"/>ariables are sent as part of the data request and </div><div class="t m0 x6e hd yec0 ff4 fs7 fc0 sc0 ls0 ws0">would not be observ<span class="_ _0"/>able in the address bar<span class="_ _2"/>. </div><div class="t m0 x6f hd yec1 ff4 fs7 fc0 sc0 ls15 ws0">T<span class="_ _3"/>o quickly identify the method, you might try to search for something unique </div><div class="t m0 x6e hd yec2 ff4 fs7 fc0 sc0 ls15 ws0">like FOOB<span class="_ _0"/>AR. In this case, we see the search term in the resulting URL sho<span class="_ _0"/>wn in </div><div class="t m0 x6e hd yec3 ff4 fs7 fc0 sc0 ls15 ws0">Figure 5-2, so we kno<span class="_ _0"/>w this directory uses GET requests for searching.</div></div><div class="pi" data-data="{&#34;ctm&#34;:[1.209373,0.000000,0.000000,1.209373,0.000000,0.000000]}"/></div></div></body></html>