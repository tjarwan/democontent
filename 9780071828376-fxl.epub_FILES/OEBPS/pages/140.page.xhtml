<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><title/><link rel="stylesheet" href="../css/base.min.css"/><link rel="stylesheet" href="../css/fancy.min.css"/><link rel="stylesheet" href="../css/pdf.css"/><meta name="viewport" content="width=640, height=824"/></head><body><div id="page_body"><div id="pf8c" class="pf w2 h2" data-page-no="8c"><div class="pc pc8c w2 h2"><div class="t m0 x93 h10 y83 ff2 fs2 fc0 sc0 ls8 ws0">Chapter 4: An APT Approach to Reconnaissance <span class="_ _3f"> </span><span class="ff1 fs9 lsa">117</span></div><div class="t m0 x3 hd y11c ff4 fs7 fc0 sc0 lsb ws16">in<span class="_ _0"/>v<span class="_ _0"/>estigate. <span class="_ _3"/>Y<span class="_ _3"/>ou should attempt to obtain a robots.txt le for any unique website you </div><div class="t m0 x3 hd y11d ff4 fs7 fc0 sc0 ls0 ws0">identify on the target netw<span class="_ _0"/>ork. </div><div class="t m0 x4 hd y11e ff4 fs7 fc0 sc0 ls0 ws0">Ho<span class="_ _0"/>wev<span class="_ _0"/>er<span class="_ _0"/>, we ha<span class="_ _0"/>ve a much quick<span class="_ _0"/>er and more accurate way to automate this task </div><div class="t m0 x3 hd y11f ff4 fs7 fc0 sc0 ls0 ws0">for us. Using the robotix Perl script which can be obtained from the apthacking </div><div class="t m0 x3 hd y120 ff4 fs7 fc0 sc0 ls0 ws0">website, we simply gi<span class="_ _0"/>ve the robotix script an input le with the -i ar<span class="_ _0"/>gument and an </div><div class="t m0 x3 hd y121 ff4 fs7 fc0 sc0 ls0 ws0">output le to sav<span class="_ _0"/>e the results to with the -o option, as sho<span class="_ _0"/>wn here: </div><div class="t m0 x3 h44 yd28 fff fse fc0 sc0 ls0 ws0">robotix.pl -i in.txt -o out.txt</div><div class="t m0 x4 hd yc10 ff4 fs7 fc0 sc0 ls0 ws0">Each line in the input le is a URL for a target site. <span class="_ _1b"/>Y<span class="_ _3"/>ou don’t need to specify the </div><div class="t m0 x3 hd yc11 ff4 fs7 fc0 sc0 ls0 ws0">robots.txt le in the URL. <span class="_ _3"/>Y<span class="_ _3"/>ou do need to specify whether the target uses HTTP or </div><div class="t m0 x3 hd yd29 ff4 fs7 fc0 sc0 ls0 ws0">HTTPS, and you also need to specify the port if the service is on a nonstandard port. </div><div class="t m0 x3 hd yd2a ff4 fs7 fc0 sc0 ls0 ws0">This is the same format as the input le for the webshot Perl script.</div><div class="t m0 x4 hd yd2b ff4 fs7 fc0 sc0 ls0 ws0">The robotix script will then attempt to access the robots.txt le for each site in </div><div class="t m0 x3 hd yd2c ff4 fs7 fc0 sc0 ls0 ws0">the input le. It will then output a link to any disallo<span class="_ _0"/>wed URLs into the output le. </div><div class="t m0 x3 hd yd2d ff4 fs7 fc0 sc0 lsb ws16">Y<span class="_ _1b"/>ou can choose to work with the URLs any way you w<span class="_ _0"/>ant. I prefer to in<span class="_ _0"/>vestigate the </div><div class="t m0 x3 hd yd2e ff4 fs7 fc0 sc0 ls0 ws0">URLs with webshot or opening them all in a web bro<span class="_ _0"/>wser<span class="_ _0"/>.</div><div class="t m0 x3 h4 yd2f ff2 fs1 fc0 sc0 ls0 ws0">Large Data Sets</div><div class="t m0 x3 hd yd30 ff4 fs7 fc0 sc0 lsb ws16">Another extremely interesting source for us to gather intelligence about our tar<span class="_ _0"/>get </div><div class="t m0 x3 hd yd31 ff4 fs7 fc0 sc0 lsb ws16">organization is from lar<span class="_ _0"/>ge data sets. <span class="_ _2"/>V<span class="_ _3"/>ery large data sets are publicly a<span class="_ _0"/>v<span class="_ _0"/>ailable with </div><div class="t m0 x3 hd yd32 ff4 fs7 fc0 sc0 lsb ws16">data regarding Internet hosts that we can analyze for an<span class="_ _0"/>ything related to our target </div><div class="t m0 x3 hd yd33 ff4 fs7 fc0 sc0 lsb ws16">organization. <span class="_ _0"/>These data sets can come from a fe<span class="_ _0"/>w main areas. The best ones for our </div><div class="t m0 x3 hd yd34 ff4 fs7 fc0 sc0 ls0 ws0">purposes are legitimate research programs, which pro<span class="_ _0"/>vide their data to the public, </div><div class="t m0 x3 hd yd35 ff4 fs7 fc0 sc0 ls0 ws0">as well as data dumps from less legitimate sources, such as data posted by hacking </div><div class="t m0 x3 hd yd36 ff4 fs7 fc0 sc0 lsb ws16">groups of compromised organizations.</div><div class="t m0 x4 hd yd37 ff4 fs7 fc0 sc0 ls0 ws0">One source of public research data can be found at http://scans.io on Project </div><div class="t m0 x3 hd yd38 ff4 fs7 fc0 sc0 ls0 ws0">Sonar<span class="_ _2"/>. The description of Project Sonar from the scans.io website states:</div><div class="t m0 x30 hd yd39 ff4 fs7 fc0 sc0 ls12 ws0">“Project Sonar is a community ef<span class="_ _0"/>fort to improv<span class="_ _0"/>e security through the activ<span class="_ _0"/>e </div><div class="t m0 x30 hd yd3a ff4 fs7 fc0 sc0 ls12 ws0">analysis of public networks. <span class="_ _0"/>This includes running scans across public </div><div class="t m0 x30 hd yd3b ff4 fs7 fc0 sc0 ls12 ws16">Internet-facing systems, or<span class="_ _0"/>ganizing the results, and sharing the data with the </div><div class="t m0 x30 hd yd3c ff4 fs7 fc0 sc0 ls12 ws0">information security community<span class="_ _2"/>. The three components to this project are </div><div class="t m0 x30 hd yd3d ff4 fs7 fc0 sc0 ls12 ws0">tools, datasets, and research.<span class="_ _2"/>” </div><div class="t m0 x4 hd yd3e ff4 fs7 fc0 sc0 ls0 ws0">There are currently three main sets of data av<span class="_ _0"/>ailable to us:</div><div class="t m0 x16 h1f yd3f ffb fse fc0 sc0 ls0 ws0">c</div><div class="t m0 x1 hd yd40 ff4 fs7 fc0 sc0 ls0 ws0">IPv4 TCP banners and UDP probe replies</div><div class="t m0 x16 h1f yd41 ffb fse fc0 sc0 ls0 ws0">c</div><div class="t m0 x1 hd yd42 ff4 fs7 fc0 sc0 ls0 ws0">IPv4 Re<span class="_ _0"/>verse DNS PTR records</div><div class="t m0 x16 h1f yd43 ffb fse fc0 sc0 ls0 ws0">c</div><div class="t m0 x1 hd yd44 ff4 fs7 fc0 sc0 ls0 ws0">IPv4 SSL certicates</div><a class="" href="http://scans.io"><div class="d m1" style="border-style:none;position:absolute;left:381.073318px;bottom:281.832200px;width:62.000000px;height:12.000000px;background-color:rgba(255,255,255,0.000001);"/></a></div><div class="pi" data-data="{&#34;ctm&#34;:[1.209373,0.000000,0.000000,1.209373,0.000000,0.000000]}"/></div></div></body></html>