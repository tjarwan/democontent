<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><title/><link rel="stylesheet" href="../css/base.min.css"/><link rel="stylesheet" href="../css/fancy.min.css"/><link rel="stylesheet" href="../css/pdf.css"/><meta name="viewport" content="width=640, height=824"/></head><body><div id="page_body"><div id="pf18a" class="pf w2 h2" data-page-no="18a"><div class="pc pc18a w2 h2"><div class="t m0 xb h10 y83 ff2 fs2 fc0 sc0 ls8 ws0">Chapter 9: Physical Infiltration<span class="_ _9"> </span><span class="ff1 fs9 lsa">371</span></div><div class="t m0 x3 hd y11c ff4 fs7 fc0 sc0 ls0 ws0">most models require a special “password” to be entered, at which point it will print </div><div class="t m0 x3 hd y11d ff4 fs7 fc0 sc0 ls0 ws0">out a text-based menu for you to interact with the de<span class="_ _0"/>vice. So you simply open a te<span class="_ _0"/>xt </div><div class="t m0 x3 hd y20f ff4 fs7 fc0 sc0 ls0 ws0">editor<span class="_ _0"/>, type the password, and you can dump all of the data on the de<span class="_ _0"/>vice. In recent </div><div class="t m0 x3 hd y210 ff4 fs7 fc0 sc0 ls0 ws0">years, wireless ke<span class="_ _0"/>ylogging models hav<span class="_ _0"/>e been released. <span class="_ _2"/>Although you must still </div><div class="t m0 x3 hd y211 ff4 fs7 fc0 sc0 lsb ws16">physically plant the ke<span class="_ _0"/>ylogger<span class="_ _0"/>, the de<span class="_ _0"/>vice can be congured to connect to a wireless </div><div class="t m0 x3 hd y212 ff4 fs7 fc0 sc0 ls0 ws0">network and e-mail the acti<span class="_ _0"/>vity reports.</div><div class="t m0 x3 h7 y2326 ff1 fs3 fc0 sc0 ls0 ws0">APT Drop Box</div><div class="t m0 x3 hd y99e ff4 fs7 fc0 sc0 ls0 ws0">W<span class="_ _3"/>e can also choose to leave a full Linux system, which we can access remotely and </div><div class="t m0 x3 hd y2f2 ff4 fs7 fc0 sc0 ls0 ws0">use to target internal netw<span class="_ _0"/>ork resources. These types of systems ha<span class="_ _0"/>ve been around </div><div class="t m0 x3 hd y216 ff4 fs7 fc0 sc0 ls0 ws0">for some time, and they’<span class="_ _2"/>ve seen some very serious inno<span class="_ _0"/>v<span class="_ _0"/>ation. The Pwnie Express </div><div class="t m0 x3 hd y2f3 ff4 fs7 fc0 sc0 ls0 ws0">company has been creating these penetration testing box<span class="_ _0"/>es for a long time and has </div><div class="t m0 x3 hd y2f4 ff4 fs7 fc0 sc0 ls0 ws0">placed them in some extremely interesting packaging, including sur<span class="_ _0"/>ge protectors and </div><div class="t m0 x3 hd y2f5 ff4 fs7 fc0 sc0 ls0 ws0">Shee<span class="_ _0"/>vaPlugs.</div><div class="t m0 x4 hd y99f ff4 fs7 fc0 sc0 ls0 ws0">There’<span class="_ _2"/>s no real magic to these devices. <span class="_ _0"/>They’<span class="_ _2"/>re simply full-blown Linux </div><div class="t m0 x3 hd y2f7 ff4 fs7 fc0 sc0 ls0 ws0">computers in very interesting and compact form-f<span class="_ _0"/>actors. There ha<span class="_ _0"/>ve also been </div><div class="t m0 x3 hd y2f8 ff4 fs7 fc0 sc0 ls0 ws0">other very interesting de<span class="_ _0"/>v<span class="_ _0"/>elopments in this microcomputer space, including Odroid </div><div class="t m0 x3 hd y9a0 ff4 fs7 fc0 sc0 ls0 ws0">systems and Raspberry Pis. Raspberry Pi systems are very interesting because the<span class="_ _0"/>y </div><div class="t m0 x3 hd y9a1 ff4 fs7 fc0 sc0 ls0 ws0">pack a lot of features in a very small form-f<span class="_ _0"/>actor with prices starting at under $30! </div><div class="t m0 x3 hd y2327 ff4 fs7 fc0 sc0 ls0 ws0">The Raspberry Pi B-model is sho<span class="_ _0"/>wn in Figure 9-31.</div><div class="t m0 x4 hd y3ec ff4 fs7 fc0 sc0 ls0 ws0">The main thing we’ll want from these de<span class="_ _0"/>vices is the ability to connect remotely to </div><div class="t m0 x3 hd y3ed ff4 fs7 fc0 sc0 ls0 ws0">them so we can target netw<span class="_ _0"/>ork resources. <span class="_ _0"/>W<span class="_ _2"/>e can create an ad hoc wireless network </div><div class="t m0 x3 hd y2328 ff4 fs7 fc0 sc0 ls0 ws0">and connect to these de<span class="_ _0"/>vices when we are in relativ<span class="_ _0"/>ely close proximity<span class="_ _2"/>, or we can </div><div class="t m0 x3 hd y2329 ff4 fs7 fc0 sc0 ls0 ws0">hav<span class="_ _0"/>e them call home to us ov<span class="_ _0"/>er a secure protocol such as Secure Shell (SSH). T<span class="_ _3"/>o </div><div class="t m0 x3 hd y232a ff4 fs7 fc0 sc0 ls0 ws0">congure the drop box to call home using SSH, start by generating RSA ke<span class="_ _0"/>ys on the </div><div class="t m0 x3 hd y232b ff4 fs7 fc0 sc0 ls0 ws0">drop box using:</div><div class="t m0 x3 h44 y232c fff fse fc0 sc0 ls0 ws0">root@kali:~# ssh-keygen -t rsa</div><div class="t m0 x4 hd y232d ff4 fs7 fc0 sc0 ls0 ws0">Do not enter a passphrase for the ke<span class="_ _0"/>y<span class="_ _2"/>. This will generate the RSA pri<span class="_ _0"/>v<span class="_ _0"/>ate and </div><div class="t m0 x3 hd y232e ff4 fs7 fc0 sc0 ls0 ws0">public ke<span class="_ _0"/>y pair to the path specied. Next, you’ll w<span class="_ _0"/>ant to copy the public ke<span class="_ _0"/>y to the </div><div class="t m0 x3 hd y232f ff4 fs7 fc0 sc0 ls0 ws0">server the host should connect to. If the username congured on both systems is the </div><div class="t m0 x3 hd y2330 ff4 fs7 fc0 sc0 ls0 ws0">same, copy the public ke<span class="_ _0"/>y from the drop box to the remote system with:</div><div class="t m0 x3 h44 y2331 fff fse fc0 sc0 ls0 ws0">scp ~/.ssh/id_rsa.pub home.apthacker.com:~</div><div class="t m0 x4 hd y2332 ff4 fs7 fc0 sc0 ls0 ws0">Then you’ll add the public ke<span class="_ _0"/>y to the list of authorized ke<span class="_ _0"/>ys on the system being </div><div class="t m0 x3 hd y2333 ff4 fs7 fc0 sc0 ls0 ws0">called, in this case, home.apthacker<span class="_ _2"/>.com. <span class="_ _3"/>Y<span class="_ _3"/>ou would do this with the follo<span class="_ _0"/>wing </div><div class="t m0 x3 hd y2334 ff4 fs7 fc0 sc0 ls0 ws0">command:</div><div class="t m0 x3 h44 y2335 fff fse fc0 sc0 ls0 ws0">cat id_dsa.pub &gt;&gt; .ssh/authorized_keys</div><a class="" href="http://home.apthacker.com"><div class="d m1" style="border-style:none;position:absolute;left:198.458050px;bottom:127.032502px;width:94.000000px;height:12.000000px;background-color:rgba(255,255,255,0.000001);"/></a></div><div class="pi" data-data="{&#34;ctm&#34;:[1.209373,0.000000,0.000000,1.209373,0.000000,0.000000]}"/></div></div></body></html>